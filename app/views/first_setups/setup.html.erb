<% content_for(:title, t(:first_setup)) %>

<div class="first-setup-window">
  <h1><%=t :hello_exclmark %></h1>
  <p><%=t :your_site_is, {domain: ENV['SITE_DOMAIN']} %></p>
  <br>

  <%= form_for @first_setup, url: init_path do |f| %>
      <h4><%=t :import_from %></h4>

      <div class="first-setup-window__choice">
        <div class="form-group radio">
          <label>
            <%= f.radio_button :import_choice, 'new', checked: true %>
            <%=t :import_from_nothing_create_new %>
          </label>
        </div>
        <div class="form-group radio">
          <label>
            <%= f.radio_button :import_choice, 'upload' %>
            <%=t :import_from_your_computer %>
          </label>
        </div>
      </div>

      <div class="first-setup-window__choice-details">
        <%# upload %>
        <div class="panel panel-default hidden" id="first_setup_import_choice_upload_details">
          <div class="panel-body">
            <%= f.label :save_s3_access_key, t(:choose_zip_archive), class: 'control-label' %>
            <%= f.file_field :import_file, class: 'form-control' %>
          </div>
        </div>
        <%# new %>
      </div>

      <br>

      <h4><%=t :save_on %></h4>

      <div class="first-setup-window__choice">
        <div class="form-group radio">
          <label>
            <%= f.radio_button :save_choice, 'local', checked: true %>
            <%=t :save_on_server %>
          </label>
        </div>
        <div class="form-group radio">
          <label>
            <%= f.radio_button :save_choice, 's3' %>
            <%=t :save_on_amazon_s3 %>
          </label>
        </div>
      </div>

      <div class="first-setup-window__choice-details">
        <%# local %>
        <%# s3 %>
        <div class="form-horizontal panel panel-default hidden" id="first_setup_save_choice_s3_details">
          <div class="panel-body">
            <div class="form-group">
              <%= f.label :save_s3_access_key, 'Access key', class: 'control-label col-sm-3' %>
              <div class="col-sm-9">
                <%= f.text_field :save_s3_access_key, class: 'form-control' %>
              </div>
            </div>
            <div class="form-group">
              <%= f.label :save_s3_secret, 'Secret', class: 'control-label col-sm-3' %>
              <div class="col-sm-9">
                <%= f.text_field :save_s3_secret, class: 'form-control' %>
              </div>
            </div>
            <div class="form-group">
              <%= f.label :save_s3_region, 'Region', class: 'control-label col-sm-3' %>
              <div class="col-sm-9">
                <%= f.text_field :save_s3_region, class: 'form-control' %>
              </div>
            </div>
          </div>
        </div>
      </div>

      <br>

      <h4><%=t :send_email_from %></h4>

      <div class="first-setup-window__choice">
        <div class="form-group radio">
          <label>
            <%= f.radio_button :email_choice, 'local', checked: true %>
            <%=t :email_from_server %>
          </label>
        </div>
        <div class="form-group radio">
          <label>
            <%= f.radio_button :email_choice, 'mailgun' %>
            <%=t :email_from_mailgun %>
          </label>
        </div>
      </div>

      <div class="first-setup-window__choice-details">
        <%# local %>
        <%# mailgun %>
        <div class="form-horizontal panel panel-default hidden" id="first_setup_email_choice_mailgun_details">
          <div class="panel-body">
            <div class="form-group">
              <%= f.label :email_mailgun_api_key, 'API key', class: 'control-label col-sm-3' %>
              <div class="col-sm-9">
                <%= f.text_field :email_mailgun_api_key, class: 'form-control' %>
              </div>
            </div>
            <div class="form-group">
              <%= f.label :email_mailgun_domain, 'Domain', class: 'control-label col-sm-3' %>
              <div class="col-sm-9">
                <%= f.text_field :email_mailgun_domain, class: 'form-control' %>
              </div>
            </div>
          </div>
        </div>
      </div>

      <br>

      <h4><%=t :admin_user %></h4>

      <div class="first-setup-window__choice">
        <div class="form-horizontal" id="first_setup_save_choice_s3_details">
          <div class="form-group">
            <label class="control-label col-sm-3"><%=t :user %></label>
            <div class="col-sm-9">
              <p class="form-control-static">admin</p>
            </div>
          </div>
          <div class="form-group">
            <%= label_tag 'admin_user[password]', t(:password), class: 'control-label col-sm-3' %>
            <div class="col-sm-9">
              <%= password_field_tag 'admin_user[password]', '', class: 'form-control' %>
            </div>
          </div>
          <div class="form-group">
            <%= label_tag 'admin_user[password_confirmation]', t(:password_confirmation), class: 'control-label col-sm-3' %>
            <div class="col-sm-9">
              <%= password_field_tag 'admin_user[password_confirmation]', '', class: 'form-control' %>
            </div>
          </div>
          <div class="form-group">
            <%= label_tag 'admin_user[email]', t(:recovery_email), class: 'control-label col-sm-3' %>
            <div class="col-sm-9">
              <%= text_field_tag 'admin_user[email]', '', class: 'form-control' %>
            </div>
          </div>
        </div>
      </div>

      <br>

      <%= f.submit t(:finish_setup), class: 'btn btn-success', id: 'first_setup_finish_btn', disabled: true, data_turbolinks: false, data_disable_with: t(:finishing) %>
  <% end %>
</div>